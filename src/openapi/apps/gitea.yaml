AppGitea:
  additionalProperties: false
  type: object
  properties:
    id:
      $ref: ../definitions.yaml#/idName
    rawValues:
      $ref: ../definitions.yaml#/rawValues
    values:
      x-externalDocsPath: docs/apps/gitea
      additionalProperties: false
      type: object
      properties:
        adminPassword:
          $ref: ../definitions.yaml#/adminPassword
        postgresqlPassword:
          type: string
          description: This password was generated and cannot be changed without manual intervention.
          x-secret: 'randAlphaNum 20'
          # readOnly: true
        # image:
        #   type: object
        #   properties:
        #     gitea:
        #       type: object
        #       properties:
        #         tag:
        #           $ref: ../definitions.yaml#/imageTag
        #           default: 1.15.8
        #         pullPolicy:
        #           $ref: ../definitions.yaml#/imagePullPolicy
        #     postgresql:
        #       type: object
        #       properties:
        #         tag:
        #           $ref: ../definitions.yaml#/imageTag
        #           default: 13.5.0
        #         pullPolicy:
        #           $ref: ../definitions.yaml#/imagePullPolicy
        #     memcached:
        #       type: object
        #       properties:
        #         tag:
        #           $ref: ../definitions.yaml#/imageTag
        #           default: 1.6.12
        #         pullPolicy:
        #           $ref: ../definitions.yaml#/imagePullPolicy
        resources:
          type: object
          properties:
            gitea:
              type: object
              properties:
                limits:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: '1'
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 1Gi
                requests:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 100m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 128Mi
              required:
                - limits
                - requests
            memcached:
              type: object
              properties:
                limits:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 256m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 256Mi
                requests:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 100m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 128Mi
              required:
                - limits
                - requests
            postgresql:
              type: object
              properties:
                limits:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 500m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 512Mi
                requests:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 250m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 256Mi
              required:
                - limits
                - requests
  required: [id]
