AppKeycloak:
  additionalProperties: false
  type: object
  properties:
    id:
      $ref: ../definitions.yaml#/idName
    rawValues:
      $ref: ../definitions.yaml#/rawValues
    values:
      x-externalDocsPath: docs/apps/keycloak
      additionalProperties: false
      type: object
      properties:
        idp:
          additionalProperties: false
          type: object
          properties:
            alias:
              type: string
              default: otomi-idp
            clientID:
              $ref: ../definitions.yaml#/wordCharacterPattern
              default: otomi
            clientSecret:
              type: string
              x-secret: 'randAlphaNum 32'
        adminPassword:
          $ref: ../definitions.yaml#/adminPassword
        theme:
          type: string
          default: otomi
        resources:
          additionalProperties: false
          type: object
          properties:
            keycloak:
              type: object
              properties:
                limits:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: '2'
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 1Gi
                requests:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 200m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 512Mi
              required:
                - limits
                - requests
            operator:
              type: object
              properties:
                limits:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: '1'
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: '512Mi'
                requests:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: '100m'
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: '128Mi'
              required:
                - limits
                - requests
  required: [id]
