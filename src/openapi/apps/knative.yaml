AppKnative:
  additionalProperties: false
  x-externalDocsPath: https://knative.dev/docs/
  x-short: Enterprise-grade Serverless on your own terms.
  description: Kubernetes-based platform to deploy and manage modern serverless workloads.
  x-info: |
    Knative may be installed by Otomi to deliver Container-as-a-Service (CaaS) functionality with scale-to-zero possibility. It can be compared to Functions-as-a-service (FaaS) but is container oriented, and takes only one manifest to configure an autoscaling service based on a container image of choice.

    Otomi offers an on-the-fly Knative Service deployment when configuring a service, making it very easy to deploy containerized services without the hassle of providing all the supporting resources involved with Helm charts.

    Otomi uses Istio Virtual Services under the hood to route traffic coming in for a public domain to its backing Knative Service, allowing to set a custom domain.
  title: Knative
  type: object
  properties:
    id:
      $ref: ../definitions.yaml#/idName
    enabled:
      type: boolean
      x-default: false
    rawValues:
      $ref: ../definitions.yaml#/rawValues
    shortcuts:
      description: Resource URL that lands the user in a place of interest within an app.
      type: array
      nullable: true
      items:
        $ref: ../definitions.yaml#/shortcut
    values:
      x-externalDocsPath: docs/console/apps/knative
      additionalProperties: false
      type: object
      properties:
        serving:
          type: object
          properties:
            replicas:
              description: For HA mode set to 5. Read more at https://github.com/knative/operator/issues/376
              x-default: 1
              type: integer
              minimum: 1
