AppOtel:
  additionalProperties: false
  type: object
  properties:
    id:
      $ref: ../definitions.yaml#/idName
    enabled:
      type: boolean
      default: false
    rawValues:
      $ref: ../definitions.yaml#/rawValues
    values:
      x-externalDocsPath: docs/apps/otel
      additionalProperties: false
      type: object
      properties:
        collector:
          properties:
            mode:
              title: Otel Collector deployment mode
              description: Mode to run Otel Collector in.
              type: string
              default: deployment
              enum:
                - deployment
                - daemonset
                - statefulset
        operator:
          properties:
            replicaCount:
              description: Number of Operator replicas.
              type: integer
              default: 1
        resources:
          additionalProperties: false
          type: object
          properties:
            collector:
              title: Collector
              type: object
              properties:
                limits:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 500m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 128Mi
                requests:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 100m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 64Mi
              required:
                - limits
                - requests
            manager:
              title: Manager
              type: object
              properties:
                limits:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 200m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 512Mi
                requests:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 50m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 16Mi
              required:
                - limits
                - requests
            kubeRBACProxy:
              title: Kube RBAC Proxy
              type: object
              properties:
                limits:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 500m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 128Mi
                requests:
                  type: object
                  properties:
                    cpu:
                      $ref: ../definitions.yaml#/quantityCpu
                      default: 50m
                    memory:
                      $ref: ../definitions.yaml#/quantityMem
                      default: 64Mi
              required:
                - limits
                - requests
  required: [id]