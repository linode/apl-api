tempoValues:
  type: object
  properties:
    persistence:
      type: object
      properties:
        ingester:
          type: object
          properties:
            size:
              default: 10Gi
              type: string
    autoscaling:
      type: object
      properties:
        querier:
          type: object
          properties:
            enabled:
              type: boolean
              default: false
            maxReplicas:
              type: integer
              default: 3
            minReplicas:
              type: integer
              default: 1
            targetCPUUtilizationPercentage:
              type: integer
              default: 80
            targetMemoryUtilizationPercentage:
              type: integer
              default: 80
        distributor:
          type: object
          properties:
            enabled:
              type: boolean
              default: false
            maxReplicas:
              type: integer
              default: 3
            minReplicas:
              type: integer
              default: 1
            targetCPUUtilizationPercentage:
              type: integer
              default: 80
            targetMemoryUtilizationPercentage:
              type: integer
              default: 80
        queryFrontend:
          type: object
          properties:
            enabled:
              type: boolean
              default: false
            maxReplicas:
              type: integer
              default: 3
            minReplicas:
              type: integer
              default: 1
            targetCPUUtilizationPercentage:
              type: integer
              default: 80
            targetMemoryUtilizationPercentage:
              type: integer
              default: 80
    resources:
      additionalProperties: false
      type: object
      properties:
        compactor:
          properties:
            limits:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 500m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 1Gi
            requests:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 100m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 256Mi
          required:
            - limits
            - requests
        ingester:
          properties:
            limits:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 500m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 1Gi
            requests:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 100m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 256Mi
          required:
            - limits
            - requests
        memcached:
          properties:
            limits:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 200m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 256Mi
            requests:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 50m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 64Mi
          required:
            - limits
            - requests
        querier:
          properties:
            limits:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 200m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 256Mi
            requests:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 50m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 64Mi
          required:
            - limits
            - requests
        distributor:
          properties:
            limits:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 200m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 256Mi
            requests:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 50m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 64Mi
          required:
            - limits
            - requests
        queryFrontend:
          properties:
            limits:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 200m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 256Mi
            requests:
              type: object
              properties:
                cpu:
                  $ref: ../definitions.yaml#/quantityCpu
                  default: 50m
                memory:
                  $ref: ../definitions.yaml#/quantityMem
                  default: 64Mi
          required:
            - limits
            - requests

AppTempo:
  additionalProperties: false
  type: object
  properties:
    id:
      $ref: ../definitions.yaml#/idName
    enabled:
      type: boolean
      default: true
    rawValues:
      $ref: ../definitions.yaml#/rawValues
    values:
      type: object
      x-externalDocsPath: docs/apps/tempo
      $ref: '#/tempoValues'
  required: [id]
