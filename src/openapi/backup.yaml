Backup:
  x-acl:
    platformAdmin:
      - create-any
      - read-any
      - update-any
      - delete-any
    teamAdmin:
      - create
      - read
      - update
      - delete
    teamMember:
      - create
      - read
      - update
      - delete
  type: object
  description: Create backup schedules for Persistent Volumes.
  x-externalDocsPath: disaster-recovery
  properties:
    id:
      type: string
    teamId:
      $ref: 'definitions.yaml#/idName'
    name:
      title: Name
      $ref: 'definitions.yaml#/idName'
    schedule:
      $ref: 'definitions.yaml#/backupSchedule'
    snapshotVolumes:
      title: Snapshot Volumes
      description: Whether or not to snapshot volumes. This only applies to Persistent Volumes in Azure, GCE, and AWS.
      type: boolean
      default: false
    labelSelector:
      title: Label Selector
      $ref: 'definitions.yaml#/labels'
      description: (Optional) Individual objects must match this label selector to be included in the backup.
    ttl:
      $ref: 'definitions.yaml#/backupTtl'
  required:
    - name
    - schedule
    - ttl

AplBackupSpec:
  type: object
  properties:
    schedule:
      $ref: 'definitions.yaml#/backupSchedule'
    snapshotVolumes:
      title: Snapshot Volumes
      description: Whether or not to snapshot volumes. This only applies to Persistent Volumes in Azure, GCE, and AWS.
      type: boolean
      default: false
    labelSelector:
      title: Label Selector
      $ref: 'definitions.yaml#/labels'
      description: (Optional) Individual objects must match this label selector to be included in the backup.
    ttl:
      $ref: 'definitions.yaml#/backupTtl'
  required:
    - schedule
    - ttl
