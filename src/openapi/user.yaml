UserAuthz:
  type: object
  description: Authorization for a team that user is a member
  properties:
    deniedAttributes:
      type: object
      description: Attribute paths that are not allowed to be modified by a user
      additionalProperties:
        description: Schema name
        type: array
        items:
          type: string
  required:
    - deniedAttributes
User:
  readOnly: true
  x-acl:
    admin: []
    team: []
  properties:
    name:
      type: string
      description: A user name
      readOnly: true
    email:
      $ref: definitions.yaml#/email
    isAdmin:
      type: boolean
      default: false
      description: If the user is admin
      readOnly: true
    authz:
      type: object
      additionalProperties:
        description: Team ID
        $ref: 'user.yaml#/UserAuthz'
    teams:
      type: array
      default: []
      description: A list of teams the user belongs to
      items:
        type: string
      readOnly: true
      uniqueItems: true
    roles:
      type: array
      default: []
      description: A list of roles that the user has
      items:
        type: string
      readOnly: true
      uniqueItems: true
  required:
    - authz
    - isAdmin
    - name
    - email
    - teams
    - permissions
    - roles
  type: object
